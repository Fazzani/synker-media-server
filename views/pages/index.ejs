<!DOCTYPE html>
<html lang="en">

<head>
    <% include ../partials/head %>
</head>

<body data-spy="scroll" data-target="#navbar-example">

    <header>
        <% include ../partials/header %>
    </header>

    <div class="container">
            <section id="grid">
            <form class="form-horizontal" role="form" method="post" action="/stream">
                <div class="form-group">
                    <label for="name" class="col-sm-2 control-label">Stream Url</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="name" name="stream[url]" placeholder="Stream Url..." value="" required>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-sm-10 col-sm-offset-2">
                        <input id="submit" name="submit" type="submit" value="Stream" class="btn btn-primary">
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-sm-10 col-sm-offset-2">
                        <! Will be used to display an alert to the user>
                    </div>
                </div>
            </form>
            <form class="form-horizontal" role="form" method="post" action="/shell">
                <div class="form-group">
                    <label for="name" class="col-sm-2 control-label">Command shell</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="name" name="shell[command]" placeholder="Command..." value="" required>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-sm-10 col-sm-offset-2">
                        <input id="submit" name="submit" type="submit" value="Stream" class="btn btn-primary">
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-sm-10 col-sm-offset-2">
                        <! Will be used to display an alert to the user>
                    </div>
                </div>
            </form>
            <div class="card" style="width: 18rem;">
                <div class="card-body" id="messages"></div>
            </div>

            </section>
    </div>

    <footer>
        <% include ../partials/footer %>
    </footer>
    <script src="http://localhost:8080/socket.io/socket.io.js"></script>
    <script>
        var socket = io()
        socket.on('shellResultEvent', function (data) {
            console.log(data);
            $('#messages').append("<li>" + data + "</li>")
        });
    </script>
</body>

</html>